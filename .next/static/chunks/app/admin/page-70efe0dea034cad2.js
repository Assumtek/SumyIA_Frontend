(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{8524:function(e,a,r){Promise.resolve().then(r.bind(r,306))},4160:function(e,a){"use strict";a.parse=function(e,a){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},t=(a||{}).decode||o,s=0;s<e.length;){var n=e.indexOf("=",s);if(-1===n)break;var i=e.indexOf(";",s);if(-1===i)i=e.length;else if(i<n){s=e.lastIndexOf(";",n-1)+1;continue}var d=e.slice(s,n).trim();if(void 0===r[d]){var c=e.slice(n+1,i).trim();34===c.charCodeAt(0)&&(c=c.slice(1,-1)),r[d]=function(e,a){try{return a(e)}catch(a){return e}}(c,t)}s=i+1}return r},a.serialize=function(e,a,o){var n=o||{},i=n.encode||s;if("function"!=typeof i)throw TypeError("option encode is invalid");if(!t.test(e))throw TypeError("argument name is invalid");var d=i(a);if(d&&!t.test(d))throw TypeError("argument val is invalid");var c=e+"="+d;if(null!=n.maxAge){var l=n.maxAge-0;if(isNaN(l)||!isFinite(l))throw TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(n.domain){if(!t.test(n.domain))throw TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!t.test(n.path))throw TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){var u=n.expires;if("[object Date]"!==r.call(u)&&!(u instanceof Date)||isNaN(u.valueOf()))throw TypeError("option expires is invalid");c+="; Expires="+u.toUTCString()}if(n.httpOnly&&(c+="; HttpOnly"),n.secure&&(c+="; Secure"),n.partitioned&&(c+="; Partitioned"),n.priority)switch("string"==typeof n.priority?n.priority.toLowerCase():n.priority){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c};var r=Object.prototype.toString,t=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function s(e){return encodeURIComponent(e)}},3375:function(e,a,r){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(e){for(var a,r=1,t=arguments.length;r<t;r++)for(var o in a=arguments[r])Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>a.indexOf(t)&&(r[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)0>a.indexOf(t[o])&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};Object.defineProperty(a,"__esModule",{value:!0}),a.hasCookie=a.deleteCookie=a.setCookie=a.getCookie=a.getCookies=void 0;var s=r(4160),n=function(){return"undefined"!=typeof window},i=function(e){return!!e&&"getAll"in e&&"set"in e&&"function"==typeof e.getAll&&"function"==typeof e.set},d=function(e){return!!(null==e?void 0:e.req)&&"cookies"in e.req&&i(null==e?void 0:e.req.cookies)||!!(null==e?void 0:e.res)&&"cookies"in e.res&&i(null==e?void 0:e.res.cookies)||!!(null==e?void 0:e.cookies)&&i(e.cookies())},c=function(e){var a={};return e.getAll().forEach(function(e){var r=e.name,t=e.value;a[r]=t}),a},l=function(e){try{if("string"==typeof e)return e;return JSON.stringify(e)}catch(a){return e}};a.getCookies=function(e){if(d(e)){if(null==e?void 0:e.req)return c(e.req.cookies);if(null==e?void 0:e.cookies)return c(e.cookies())}if(e&&(a=e.req),!n())return a&&a.cookies?a.cookies:a&&a.headers.cookie?(0,s.parse)(a.headers.cookie):{};for(var a,r={},t=document.cookie?document.cookie.split("; "):[],o=0,i=t.length;o<i;o++){var l=t[o].split("="),u=l.slice(1).join("=");r[l[0]]=u}return r},a.getCookie=function(e,r){var t=(0,a.getCookies)(r)[e];if(void 0!==t)return t?t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):t},a.setCookie=function(e,a,r){if(d(r)){var i,c,u,h=r.req,f=r.res,_=r.cookies,g=o(r,["req","res","cookies"]),m=t({name:e,value:l(a)},g);h&&h.cookies.set(m),f&&f.cookies.set(m),_&&_().set(m);return}if(r){var h=r.req,f=r.res,v=o(r,["req","res"]);c=h,u=f,i=v}var p=(0,s.serialize)(e,l(a),t({path:"/"},i));if(n())document.cookie=p;else if(u&&c){var b=u.getHeader("Set-Cookie");if(Array.isArray(b)||(b=b?[String(b)]:[]),u.setHeader("Set-Cookie",b.concat(p)),c&&c.cookies){var x=c.cookies;""===a?delete x[e]:x[e]=l(a)}if(c&&c.headers&&c.headers.cookie){var x=(0,s.parse)(c.headers.cookie);""===a?delete x[e]:x[e]=l(a),c.headers.cookie=Object.entries(x).reduce(function(e,a){return e.concat("".concat(a[0],"=").concat(a[1],";"))},"")}}},a.deleteCookie=function(e,r){return(0,a.setCookie)(e,"",t(t({},r),{maxAge:-1}))},a.hasCookie=function(e,r){return!!e&&(0,a.getCookies)(r).hasOwnProperty(e)}},2964:function(e,a,r){"use strict";r.d(a,{$h:function(){return o},$m:function(){return C},AB:function(){return s},DO:function(){return u},Ot:function(){return h},Wu:function(){return v},X7:function(){return _},hY:function(){return b},jc:function(){return n},ju:function(){return g},nB:function(){return d},nE:function(){return c},sN:function(){return l},t9:function(){return i},tY:function(){return f},uP:function(){return m},vu:function(){return p},wE:function(){return x}}),r(4590);var t=r(8064);(0,t.$)("98cbaed6d7eec9bf1736d433889ef759f9a5f2b9");var o=(0,t.$)("b750959fa5a73219fdc0d11c5e017ac03d8bab6a"),s=(0,t.$)("8e2c237f55b2e559e8124b0d7f45ae94f30e79d1"),n=(0,t.$)("d84faf9caa15a43a027d95346862af46046db311"),i=(0,t.$)("38fdec02dbfd68837d05f2613310340917a8b5f8"),d=(0,t.$)("d1c373dd4cd712b80c799f165221e6872f585612"),c=(0,t.$)("e9794dba623187904c2893f68d641b0387ae1e2a");(0,t.$)("a32190516454c54c284ed3423763f17b42b9ffdc");var l=(0,t.$)("c54fcd8520784b65b22bc8a6344d6a4a6f65536a"),u=(0,t.$)("51057fd333e9c8b53a3a8f5ab5ce3331a9398973"),h=(0,t.$)("43d6a0f2b6ea6cceb30c84d45fb93ad2f748ba1a"),f=(0,t.$)("aba7efd78057beb5cdc141e97cbc0ca20fab7f16"),_=(0,t.$)("3fe340c3d373d4eeafef4fb0900e4ffdf9985f97"),g=(0,t.$)("dde0c68fc34512e5cb0de7adb2a83b3fd03d16af"),m=(0,t.$)("fe12400101fa1553ba608d01fb130bcb00aed57a"),v=(0,t.$)("8e373b6eadadb7c847e1f6f0b6e5e8fe482a9389"),p=(0,t.$)("1112886395d22cd4915b7f01900c05df9b13ea37"),b=(0,t.$)("6288753f177e3717d7b7c183550e24a1be30beda"),x=(0,t.$)("f774b3796d001210d3a10f999698583484e4fd48"),C=(0,t.$)("36fae22b2ab568dcfd6a8fcf490107fe15a0d39b")},306:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return h}});var t=r(7437),o=r(2265),s=r(6463),n=r(7138),i=r(2290),d=r.n(i),c=r(2964),l=r(5962),u=r(7571);function h(){let[e,a]=(0,o.useState)(!1),[r,i]=(0,o.useState)(null),[h,f]=(0,o.useState)(!1),[_,g]=(0,o.useState)(null),[m,v]=(0,o.useState)(null),p=(0,s.useRouter)();async function b(){try{let e=await (0,c.nB)();e&&e.user&&i(e.user)}catch(e){console.error("Erro ao carregar dados do usu\xe1rio:",e)}}async function x(){try{let e=await (0,c.AB)();e&&e&&g(e)}catch(e){console.error("Erro ao carregar dados de KPI:",e)}}async function C(){try{let e=await (0,c.$h)();e&&e&&v(e)}catch(e){console.error("Erro ao carregar dados dos usu\xe1rios:",e)}}function j(){window.innerWidth>800?f(!0):f(!1)}(0,o.useEffect)(()=>(a(!0),async function(){try{j(),await Promise.all([b(),x(),C()])}catch(e){console.error("Erro ao carregar dados:",e)}finally{a(!1)}}(),()=>window.removeEventListener("resize",j)),[]);let y=async()=>{try{await (0,l.k)(),p.push("/")}catch(e){console.error("Erro ao fazer logout:",e),p.push("/")}},N=e=>{if(!e)return"UD";let a=e.split(" ");return 1===a.length?a[0].substring(0,2).toUpperCase():(a[0][0]+a[a.length-1][0]).toUpperCase()};return(0,t.jsxs)("div",{className:d().pageContainer,children:[(0,t.jsxs)("div",{className:d().navMobile,children:[(0,t.jsxs)("h1",{className:d().title2,children:["SUMY",(0,t.jsx)("span",{children:"IA."})]}),(0,t.jsx)("button",{className:d().menuButton,onClick:()=>f(e=>!e),"aria-label":h?"Fechar menu":"Abrir menu",children:h?"✖":"☰"})]}),(0,t.jsxs)("div",{className:"".concat(d().sidebar," ").concat(h?d().aberta:""),children:[(0,t.jsx)("div",{className:d().logoContainer,children:(0,t.jsx)("div",{className:d().sidebarLogo,children:(0,t.jsxs)("h1",{className:d().title,children:["SUMY",(0,t.jsx)("span",{children:"IA."})]})})}),(0,t.jsxs)("div",{className:d().userInfoContainer,onClick:()=>p.push("/profile"),children:[(0,t.jsx)("div",{className:d().userAvatar,children:(null==r?void 0:r.photoUrl)==""?(0,t.jsx)("img",{src:r.photoUrl,alt:"Foto de ".concat(r.nome),className:d().avatarImage}):N((null==r?void 0:r.nome)||"UD")}),(0,t.jsxs)("div",{className:d().userInfo,children:[(0,t.jsx)("h4",{children:(null==r?void 0:r.nome)||"Usu\xe1rio Demo"}),(0,t.jsx)("p",{children:(null==r?void 0:r.email)||"usuario@exemplo.com"})]})]}),(0,t.jsx)("div",{className:d().conversasList,children:(0,t.jsxs)(n.default,{href:"/admin/dashboard",className:d().conversaLink,children:[(0,t.jsx)("img",{src:"/iconDashboard.svg",alt:"Home",width:28,height:28}),"Home"]})}),(0,t.jsxs)("div",{className:d().sidebarFooter,children:[(0,t.jsxs)("button",{className:d().footerButton,onClick:()=>p.push("/profile"),children:[(0,t.jsx)("img",{src:"/iconConfigurate.svg",alt:"Configura\xe7\xf5es",width:28,height:28}),"Configura\xe7\xf5es"]}),(0,t.jsxs)("button",{className:d().footerButton,onClick:y,children:[(0,t.jsx)("img",{src:"/iconDoor.svg",alt:"Sair",width:25,height:25}),"Sair"]})]})]}),(0,t.jsxs)("div",{className:d().adminContainer,children:[(0,t.jsx)("div",{className:d().adminHeader,children:(0,t.jsx)("div",{className:d().headerContainer,children:(0,t.jsx)("div",{children:"Painel de Administrador"})})}),(0,t.jsxs)("div",{className:d().adminContent,children:[(0,t.jsxs)("div",{className:d().adminDashboard,children:[(0,t.jsx)("div",{className:d().dashboardHeader,children:(0,t.jsx)("h2",{children:"Vis\xe3o Geral"})}),(0,t.jsxs)("div",{className:d().dashboardContent,children:[(0,t.jsxs)("div",{className:d().dashboardCard,children:[(0,t.jsxs)("div",{className:d().dashboardCardHeader,children:[(0,t.jsx)("img",{src:"/iconUsers.svg",alt:"Usu\xe1rios",width:28,height:28}),(0,t.jsx)("h3",{children:"Total de Usu\xe1rios"})]}),(0,t.jsx)("p",{className:d().dashboardCardNumber,children:(null==_?void 0:_.totalUsuarios)||0})]}),(0,t.jsxs)("div",{className:d().dashboardCard,children:[(0,t.jsxs)("div",{className:d().dashboardCardHeader,children:[(0,t.jsx)("img",{src:"/iconUsers.svg",alt:"Usu\xe1rios Ativos",width:28,height:28}),(0,t.jsx)("h3",{children:"Usu\xe1rios Ativos"})]}),(0,t.jsx)("p",{className:d().dashboardCardNumber,children:(null==_?void 0:_.usuariosAtivos)||0})]}),(0,t.jsxs)("div",{className:d().dashboardCard,children:[(0,t.jsxs)("div",{className:d().dashboardCardHeader,children:[(0,t.jsx)("img",{src:"/iconChat.svg",alt:"Conversas",width:28,height:28}),(0,t.jsx)("h3",{children:"Total de Conversas"})]}),(0,t.jsx)("p",{className:d().dashboardCardNumber,children:(null==_?void 0:_.totalConversas)||0})]}),(0,t.jsxs)("div",{className:d().dashboardCard,children:[(0,t.jsxs)("div",{className:d().dashboardCardHeader,children:[(0,t.jsx)("img",{src:"/iconChat.svg",alt:"Mensagens",width:28,height:28}),(0,t.jsx)("h3",{children:"Total de Mensagens"})]}),(0,t.jsx)("p",{className:d().dashboardCardNumber,children:(null==_?void 0:_.totalMensagens)||0})]}),(0,t.jsxs)("div",{className:d().dashboardCard,children:[(0,t.jsxs)("div",{className:d().dashboardCardHeader,children:[(0,t.jsx)("img",{src:"/iconDocument.svg",alt:"Documentos",width:28,height:28}),(0,t.jsx)("h3",{children:"Total de Documentos"})]}),(0,t.jsx)("p",{className:d().dashboardCardNumber,children:(null==_?void 0:_.totalDocumentos)||0})]})]})]}),(0,t.jsxs)("div",{className:d().tableUsers,children:[(0,t.jsx)("h2",{children:"Gerenciamento de Usu\xe1rios"}),(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Usu\xe1rio"}),(0,t.jsx)("th",{children:"Status"}),(0,t.jsx)("th",{children:"Conversas"}),(0,t.jsx)("th",{children:"Mensagens"}),(0,t.jsx)("th",{children:"Documentos"}),(0,t.jsx)("th",{children:"A\xe7\xf5es"})]})}),(0,t.jsx)("tbody",{children:null==m?void 0:m.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsxs)("div",{className:d().userCell,children:[e.photoUrl?(0,t.jsx)("img",{src:e.photoUrl,alt:e.nome,className:d().avatar,width:44,height:44}):(0,t.jsx)("div",{className:d().avatarDefault,children:N(e.nome)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:d().userName,children:e.nome}),(0,t.jsx)("div",{className:d().userEmail,children:e.email})]})]})}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:e.ativo?d().statusAtivo:d().statusDesativo,children:e.ativo?"Ativo":"Desativo"})}),(0,t.jsx)("td",{children:e._count.conversas}),(0,t.jsx)("td",{children:e._count.documentos}),(0,t.jsx)("td",{children:e._count.documentos}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{className:d().desativarBtn,children:"Desativar"})})]},e.id))})]})]})]})]}),e&&(0,t.jsx)(u.Z,{texto:"Carregando o painel de administrador..."}),h&&(0,t.jsx)("div",{className:d().overlay,onClick:()=>f(!1),"aria-label":"Fechar menu"})]})}},7571:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});var t=r(7437),o=r(7485);function s(e){let{texto:a="Carregando..."}=e;return(0,t.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(255,255,255,0.9)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,t.jsx)(o.VF,{height:100,width:100,color:"#0F62FE",secondaryColor:"#0F62FE",radius:12.5,ariaLabel:"mutating-dots-loading",visible:!0}),(0,t.jsx)("h2",{style:{marginTop:24},children:a})]})}},5962:function(e,a,r){"use strict";r.d(a,{k:function(){return s}});var t=r(3375),o=r(2964);async function s(){try{return(0,t.deleteCookie)("session"),await (0,o.hY)(),!0}catch(e){return console.error("Erro ao fazer logout:",e),!1}}},2290:function(e){e.exports={pageContainer:"page_pageContainer__nzr9w",adminContainer:"page_adminContainer__ZmJOc",sidebar:"page_sidebar__s9GbU",logoContainer:"page_logoContainer__uN1ee",sidebarLogo:"page_sidebarLogo__jZMRo",title:"page_title__ZM5C_",logoTitle:"page_logoTitle__rpOxP",userInfoContainer:"page_userInfoContainer__HWqwl",userAvatar:"page_userAvatar__gtH_1",userInfo:"page_userInfo__g1UxB",sidebarHeader:"page_sidebarHeader__JHmwE",novaConversaBtn:"page_novaConversaBtn__o4krl",btnText:"page_btnText__3i9SR",sidebarFooter:"page_sidebarFooter__HJe8i",footerButton:"page_footerButton__t71Ou",conversasList:"page_conversasList__aOnNZ",conversaLink:"page_conversaLink__sJABU",chatContainer:"page_chatContainer__YlJ4N",tituloAtualChat:"page_tituloAtualChat__90Fh8",tituloContainer:"page_tituloContainer__lDLBC",mensagens:"page_mensagens__tJImv",mensagemUser:"page_mensagemUser__kUHVc",mensagemIA:"page_mensagemIA__QxKlH",horario:"page_horario__WA0Q2",digitando:"page_digitando__z7HHN",bolinha:"page_bolinha__sd5l3",pulsar:"page_pulsar__lCX8p",carregando:"page_carregando__HU5p_",erro:"page_erro__N75k2",semMensagens:"page_semMensagens__bllib",semConversas:"page_semConversas___1EhR",enviarMensagem:"page_enviarMensagem__Gbzgv",inputMensagem:"page_inputMensagem__2Vb0Q",botaoEnviar:"page_botaoEnviar__tU7Jt",editarConversa:"page_editarConversa__0oiHg",inputEditarConversa:"page_inputEditarConversa__Gnwt0",editarBotoes:"page_editarBotoes__c6wog",botaoSalvar:"page_botaoSalvar___xhrX",botaoCancelar:"page_botaoCancelar___StXQ",modalOverlay:"page_modalOverlay__h675x",modalContent:"page_modalContent__rbaVt",modalBotoes:"page_modalBotoes__YwOl7",botaoConfirmarExclusao:"page_botaoConfirmarExclusao__WFa0k",avatarImage:"page_avatarImage__y_Z9R",menuButton:"page_menuButton__VBx5D",navMobile:"page_navMobile__3otkw",title2:"page_title2__oeIzu",adminHeader:"page_adminHeader__r47tS",headerContainer:"page_headerContainer__WTnKu",adminContent:"page_adminContent__7WWY7",adminDashboard:"page_adminDashboard__BCMMr",dashboardHeader:"page_dashboardHeader__HV1Mo",dashboardContent:"page_dashboardContent__i2WLP",dashboardCard:"page_dashboardCard__b7M9H",dashboardCardHeader:"page_dashboardCardHeader__ZIwTq",dashboardCardNumber:"page_dashboardCardNumber__Sf6LB",overlay:"page_overlay__e2CCD",aberta:"page_aberta__UtzLb",tableUsers:"page_tableUsers__fiMLS",userCell:"page_userCell__SOIGL",avatar:"page_avatar__Yzpvf",avatarDefault:"page_avatarDefault__BHKyk",userName:"page_userName__0mKa_",userEmail:"page_userEmail__3EDQC",statusAtivo:"page_statusAtivo__ZvjcF",statusDesativo:"page_statusDesativo__RyLyu",desativarBtn:"page_desativarBtn___US7I"}}},function(e){e.O(0,[305,571,138,645,971,23,744],function(){return e(e.s=8524)}),_N_E=e.O()}]);