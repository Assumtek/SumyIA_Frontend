(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{4322:function(e,a,r){Promise.resolve().then(r.bind(r,219))},8030:function(e,a,r){"use strict";r.d(a,{Z:function(){return l}});var t=r(2265);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return a.filter((e,a,r)=>!!e&&r.indexOf(e)===a).join(" ")};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)((e,a)=>{let{color:r="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u,...f}=e;return(0,t.createElement)("svg",{ref:a,...i,width:o,height:o,stroke:r,strokeWidth:l?24*Number(s)/Number(o):s,className:n("lucide",c),...f},[...u.map(e=>{let[a,r]=e;return(0,t.createElement)(a,r)}),...Array.isArray(d)?d:[d]])}),l=(e,a)=>{let r=(0,t.forwardRef)((r,i)=>{let{className:l,...c}=r;return(0,t.createElement)(s,{ref:i,iconNode:a,className:n("lucide-".concat(o(e)),l),...c})});return r.displayName="".concat(e),r}},2964:function(e,a,r){"use strict";r.d(a,{$h:function(){return o},$m:function(){return j},AB:function(){return n},DO:function(){return u},Ot:function(){return f},Wu:function(){return v},X7:function(){return p},hY:function(){return g},jc:function(){return i},ju:function(){return m},nB:function(){return l},nE:function(){return c},sN:function(){return d},t9:function(){return s},tY:function(){return _},uP:function(){return h},vu:function(){return b},wE:function(){return x}}),r(4590);var t=r(8064);(0,t.$)("98cbaed6d7eec9bf1736d433889ef759f9a5f2b9");var o=(0,t.$)("b750959fa5a73219fdc0d11c5e017ac03d8bab6a"),n=(0,t.$)("8e2c237f55b2e559e8124b0d7f45ae94f30e79d1"),i=(0,t.$)("d84faf9caa15a43a027d95346862af46046db311"),s=(0,t.$)("38fdec02dbfd68837d05f2613310340917a8b5f8"),l=(0,t.$)("d1c373dd4cd712b80c799f165221e6872f585612"),c=(0,t.$)("e9794dba623187904c2893f68d641b0387ae1e2a");(0,t.$)("a32190516454c54c284ed3423763f17b42b9ffdc");var d=(0,t.$)("c54fcd8520784b65b22bc8a6344d6a4a6f65536a"),u=(0,t.$)("51057fd333e9c8b53a3a8f5ab5ce3331a9398973"),f=(0,t.$)("43d6a0f2b6ea6cceb30c84d45fb93ad2f748ba1a"),_=(0,t.$)("aba7efd78057beb5cdc141e97cbc0ca20fab7f16"),p=(0,t.$)("3fe340c3d373d4eeafef4fb0900e4ffdf9985f97"),m=(0,t.$)("dde0c68fc34512e5cb0de7adb2a83b3fd03d16af"),h=(0,t.$)("fe12400101fa1553ba608d01fb130bcb00aed57a"),v=(0,t.$)("8e373b6eadadb7c847e1f6f0b6e5e8fe482a9389"),b=(0,t.$)("1112886395d22cd4915b7f01900c05df9b13ea37"),g=(0,t.$)("6288753f177e3717d7b7c183550e24a1be30beda"),x=(0,t.$)("f774b3796d001210d3a10f999698583484e4fd48"),j=(0,t.$)("36fae22b2ab568dcfd6a8fcf490107fe15a0d39b")},7571:function(e,a,r){"use strict";r.d(a,{Z:function(){return n}});var t=r(7437),o=r(7485);function n(e){let{texto:a="Carregando..."}=e;return(0,t.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(255,255,255,0.9)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,t.jsx)(o.VF,{height:100,width:100,color:"#0F62FE",secondaryColor:"#0F62FE",radius:12.5,ariaLabel:"mutating-dots-loading",visible:!0}),(0,t.jsx)("h2",{style:{marginTop:24},children:a})]})}},219:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return m}});var t=r(7437),o=r(2265),n=r(6463),i=r(3497),s=r.n(i),l=r(2964),c=r(8030);let d=(0,c.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),u=(0,c.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),f=(0,c.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_=(0,c.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var p=r(7571);function m(){let e=(0,n.useRouter)(),[a,r]=(0,o.useState)(null),[i,c]=(0,o.useState)(!0),[m,h]=(0,o.useState)(!1),[v,b]=(0,o.useState)(""),[g,x]=(0,o.useState)(""),[j,N]=(0,o.useState)(""),[y,S]=(0,o.useState)(""),[C,w]=(0,o.useState)(!1),k=(0,o.useRef)(null),[B,$]=(0,o.useState)(!1),[E,F]=(0,o.useState)(""),[z,A]=(0,o.useState)(""),[Z,q]=(0,o.useState)(""),[I,O]=(0,o.useState)(""),[G,P]=(0,o.useState)(""),[T,U]=(0,o.useState)(!1);async function L(e){e.preventDefault(),h(!0),b(""),x("");try{let a=new FormData(e.currentTarget),t=await (0,l.Wu)(a);x(t.message||"Perfil atualizado com sucesso"),t.user&&r(t.user)}catch(e){console.error("Erro ao atualizar perfil:",e),b(e.message||"Erro ao atualizar o perfil")}finally{h(!1)}}async function D(e){e.preventDefault(),U(!0),O(""),P("");try{let e=await (0,l.vu)(E,z,Z);P(e.message||"Senha atualizada com sucesso"),F(""),A(""),q(""),setTimeout(()=>{$(!1),P("")},2e3)}catch(e){console.error("Erro ao alterar senha:",e),O(e.message||"Erro ao alterar a senha")}finally{U(!1)}}async function W(e){var a;let t=null===(a=e.target.files)||void 0===a?void 0:a[0];if(t){if(!t.type.startsWith("image/")){b("Por favor, selecione uma imagem v\xe1lida.");return}if(t.size>5242880){b("A imagem deve ter no m\xe1ximo 5MB.");return}try{w(!0),b(""),x("");let e=new FormData;e.append("foto",t);let a=await (0,l.nE)(e);r(a),x("Foto atualizada com sucesso!")}catch(e){console.error("Erro ao atualizar foto:",e),b(e.message||"Erro ao atualizar a foto")}finally{w(!1)}}}return((0,o.useEffect)(()=>{(async function(){try{c(!0);let e=await (0,l.nB)();if(e&&e.user)r(e.user),N(e.user.nome||""),S(e.user.email||"");else throw Error("N\xe3o foi poss\xedvel obter os dados do usu\xe1rio")}catch(e){console.error("Erro ao carregar perfil:",e),b("N\xe3o foi poss\xedvel carregar os dados do seu perfil")}finally{c(!1)}})()},[]),i)?(0,t.jsx)(p.Z,{texto:"Carregando dados do perfil..."}):C?(0,t.jsx)(p.Z,{texto:"Carregando foto..."}):(0,t.jsxs)("div",{className:s().containerCenter,children:[(0,t.jsx)("div",{className:s().header,children:(0,t.jsxs)("button",{onClick:()=>e.push("/conversa"),className:s().backButton,children:[(0,t.jsx)(d,{size:18}),"Voltar"]})}),(0,t.jsxs)("div",{className:s().profileCard,children:[v&&(0,t.jsx)("div",{className:s().error,children:v}),g&&(0,t.jsx)("div",{className:s().success,children:g}),(0,t.jsxs)("div",{className:s().avatarSection,children:[(0,t.jsxs)("div",{className:s().avatar,children:[(null==a?void 0:a.photoUrl)?(0,t.jsx)("img",{src:a.photoUrl,alt:"Foto de ".concat(j||(null==a?void 0:a.nome)),className:s().avatarImage}):(e=>{if(!e)return"UD";let a=e.split(" ");return 1===a.length?a[0].substring(0,2).toUpperCase():(a[0][0]+a[a.length-1][0]).toUpperCase()})(j||(null==a?void 0:a.nome)||""),(0,t.jsx)("button",{className:s().editAvatarButton,onClick:()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.click()},disabled:C,children:C?(0,t.jsx)("div",{className:s().loadingSpinner}):(0,t.jsx)(u,{size:12})}),(0,t.jsx)("input",{type:"file",ref:k,onChange:W,accept:"image/*",style:{display:"none"}})]}),(0,t.jsx)("h2",{children:"Informa\xe7\xf5es do Perfil"})]}),(0,t.jsxs)("form",{onSubmit:L,children:[(0,t.jsxs)("div",{className:s().inputGroup,children:[(0,t.jsxs)("label",{htmlFor:"nome",className:s().label,children:[(0,t.jsx)(f,{size:14,className:s().inputIcon}),"Nome"]}),(0,t.jsx)("input",{type:"text",id:"nome",name:"nome",value:j,onChange:e=>N(e.target.value),placeholder:"Seu nome",className:s().input,required:!0})]}),(0,t.jsxs)("div",{className:s().inputGroup,children:[(0,t.jsxs)("label",{htmlFor:"email",className:s().label,children:[(0,t.jsx)(_,{size:14,className:s().inputIcon}),"Email"]}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:y,onChange:e=>S(e.target.value),className:s().input,required:!0})]}),(0,t.jsx)("div",{className:s().passwordSection,children:(0,t.jsx)("button",{type:"button",className:s().changePasswordButton,onClick:()=>$(!0),children:"Alterar Senha"})}),(0,t.jsx)("button",{type:"submit",className:s().saveButton,disabled:m,children:m?"Salvando...":(0,t.jsx)(t.Fragment,{children:"Salvar Altera\xe7\xf5es"})})]})]}),B&&(0,t.jsx)("div",{className:s().modalOverlay,children:(0,t.jsxs)("div",{className:s().modal,children:[(0,t.jsx)("h3",{children:"Alterar Senha"}),(0,t.jsx)("button",{className:s().closeButton,onClick:()=>{$(!1),O(""),P(""),F(""),A(""),q("")},children:"Cancelar"}),(0,t.jsxs)("form",{onSubmit:D,children:[I&&(0,t.jsx)("div",{className:s().error,children:I}),G&&(0,t.jsx)("div",{className:s().success,children:G}),(0,t.jsxs)("div",{className:s().inputGroup,children:[(0,t.jsx)("label",{htmlFor:"senhaAtual",children:"Senha Atual"}),(0,t.jsx)("input",{type:"password",id:"senhaAtual",value:E,onChange:e=>F(e.target.value),className:s().input,required:!0})]}),(0,t.jsxs)("div",{className:s().inputGroup,children:[(0,t.jsx)("label",{htmlFor:"novaSenha",children:"Nova Senha"}),(0,t.jsx)("input",{type:"password",id:"novaSenha",value:z,onChange:e=>A(e.target.value),className:s().input,required:!0,minLength:6})]}),(0,t.jsxs)("div",{className:s().inputGroup,children:[(0,t.jsx)("label",{htmlFor:"confirmarSenha",children:"Confirmar Nova Senha"}),(0,t.jsx)("input",{type:"password",id:"confirmarSenha",value:Z,onChange:e=>q(e.target.value),className:s().input,required:!0,minLength:6})]}),(0,t.jsx)("button",{type:"submit",className:s().saveButton,disabled:T,children:T?"Atualizando...":(0,t.jsx)(t.Fragment,{children:"Atualizar Senha"})})]})]})})]})}},3497:function(e){e.exports={container:"profile_container__Hi9WS",visible:"profile_visible__ZTq1n",page:"profile_page___5UWi",navbar:"profile_navbar__UKF2x",navbar_container:"profile_navbar_container__ApFq1",esquerda:"profile_esquerda__gTBvr",divisornav:"profile_divisornav__doHqH",direita:"profile_direita__kw8L1",header:"profile_header__dkgdN",botao1:"profile_botao1__0ZTCu",botao2:"profile_botao2__vnSBb",imagem:"profile_imagem__xPzcn",servicos:"profile_servicos__pIPC0",containerservicos:"profile_containerservicos__UkQNr",servico:"profile_servico__WpLGB",depoimentos:"profile_depoimentos__NarSj",depoimentoesquerda:"profile_depoimentoesquerda__MWzi9",depoimentodireita:"profile_depoimentodireita__3GYXr",depoimento:"profile_depoimento__DJ5KZ",depoimentocabecalho:"profile_depoimentocabecalho__KVwwQ",depoimentocorpo:"profile_depoimentocorpo__J38Ul",cta:"profile_cta__IaHV9",footer:"profile_footer__fZRU8",footer_container:"profile_footer_container__BFZTO",footer_direita:"profile_footer_direita__f8a1n",footer_esquerda:"profile_footer_esquerda__917zE",divisorfooter:"profile_divisorfooter__lcO9x",loadingContainer:"profile_loadingContainer__iJJ6f",loadingContent:"profile_loadingContent__r5_wF",fadeIn:"profile_fadeIn__Bwm6T",containerCenter:"profile_containerCenter__t_GpC",backButton:"profile_backButton__BVeCG",avatar:"profile_avatar__yF6Vc",avatarImage:"profile_avatarImage__dQJ_D",editAvatarButton:"profile_editAvatarButton__27m64",title:"profile_title__wFbBT",profileCard:"profile_profileCard__TTyae",avatarSection:"profile_avatarSection__ifp_j",inputGroup:"profile_inputGroup__rif8z",label:"profile_label__2mYSJ",input:"profile_input__9hNX8",passwordSection:"profile_passwordSection__BQxpm",changePasswordButton:"profile_changePasswordButton__S8gJ3",closeButton:"profile_closeButton___V6kO",saveButton:"profile_saveButton__jnXFn",modal:"profile_modal__6kR1Z",error:"profile_error__9YNMY",success:"profile_success__3Q_EO",modalOverlay:"profile_modalOverlay__91BCZ"}}},function(e){e.O(0,[61,571,645,971,23,744],function(){return e(e.s=4322)}),_N_E=e.O()}]);